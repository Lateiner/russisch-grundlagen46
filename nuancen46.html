<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch: Semantische Nuancen (10 S√§tze)</title>
    <style>
        :root {
            --primary: #673ab7; /* Deep Purple */
            --primary-light: #d1c4e9;
            --accent: #00bcd4; /* Cyan */
            --correct-bg: #e8f5e9;
            --correct-text: #2e7d32;
            --wrong-bg: #ffebee;
            --wrong-text: #c62828;
            --bg: #f3f4f6;
            --card-bg: #ffffff;
            --text: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 15px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        h1 {
            color: var(--primary);
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        h2 {
            color: #666;
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 30px;
            font-weight: normal;
        }

        .intro-box {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid var(--accent);
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* Nuance Card Styles */
        .nuance-card {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #555;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }

        .icon-badge {
            background: var(--primary-light);
            color: var(--primary);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .sentence-display {
            font-size: 1.4rem;
            margin-bottom: 15px;
            line-height: 1.4;
            font-family: 'Georgia', serif; /* Serif for better Russian readability */
            color: #2c3e50;
        }

        .gap {
            border-bottom: 2px solid var(--primary);
            color: var(--primary);
            font-weight: bold;
            padding: 0 5px;
            display: inline-block;
            min-width: 60px;
            text-align: center;
            font-family: 'Segoe UI', sans-serif;
        }

        .nuance-hint {
            background-color: #f8f9fa;
            border-left: 3px solid #ccc;
            padding: 10px 15px;
            font-style: italic;
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 20px;
        }

        /* Choice Buttons */
        .choices-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .choice-btn {
            background: #fff;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
            color: var(--text);
            text-align: center;
            position: relative;
        }

        .choice-btn:hover {
            border-color: var(--primary);
            background-color: #f3e5f5;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        /* Feedback States */
        .choice-btn.correct {
            background-color: var(--correct-bg);
            border-color: var(--correct-text);
            color: var(--correct-text);
            font-weight: bold;
            padding-right: 30px; /* Space for icon */
        }
        
        .choice-btn.correct::after {
            content: '‚úî';
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        .choice-btn.wrong {
            background-color: var(--wrong-bg);
            border-color: var(--wrong-text);
            color: var(--wrong-text);
            opacity: 0.8;
        }

        /* Detailed Explanation Area */
        .explanation-area {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none; /* Hidden by default */
            font-size: 0.95rem;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation-correct {
            background-color: var(--correct-bg);
            color: var(--correct-text);
            border: 1px solid #c8e6c9;
        }

        .explanation-wrong {
            background-color: var(--wrong-bg);
            color: var(--wrong-text);
            border: 1px solid #ffcdd2;
        }

        /* Bottom Controls */
        .card-footer {
            margin-top: 15px;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }

        .footer-link {
            font-size: 0.9rem;
            color: #999;
            text-decoration: underline;
            cursor: pointer;
            border: none;
            background: none;
        }
        .footer-link:hover { color: var(--primary); }

        /* Mobile Layout */
        @media (max-width: 600px) {
            .choices-container {
                grid-template-columns: 1fr; /* Stack vertically */
            }
            .sentence-display {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Semantische Nuancen</h1>
    <h2>W√§hlen Sie das passende Wort f√ºr den russischen Satz.</h2>

    <div class="intro-box">
        <strong>Anleitung:</strong>
        Lesen Sie den russischen Satz und den deutschen Kontext-Hinweis. Entscheiden Sie, welches Verb die richtige Bedeutung tr√§gt.
    </div>

    <!-- SZENARIO 1: Der Plan vs. Geld/Maschine -->
    <div class="nuance-card" id="card1">
        <div class="card-header">
            <span class="icon-badge">üí°</span>
            <span>Abstrakt: Idee / Erfolg</span>
        </div>
        <div class="sentence-display">
            ¬´–£ –º–µ–Ω—è –±—ã–ª–∞ –∏–¥–µ—è, –∏ –æ–Ω–∞ –æ—Ç–ª–∏—á–Ω–æ <span class="gap" id="gap1">...</span>!¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Die Idee hat funktioniert / war erfolgreich.
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card1', 'gap1', false, 'zarabotal', this)">–∑–∞—Ä–∞–±–æ—Ç–∞–ª–∞</button>
            <button class="choice-btn" onclick="checkNuance('card1', 'gap1', true, 'srabotal', this)">—Å—Ä–∞–±–æ—Ç–∞–ª–∞</button>
        </div>
        <div class="explanation-area" id="exp-card1"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card1', 'gap1', '—Å—Ä–∞–±–æ—Ç–∞–ª–∞')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card1', 'gap1')">Zur√ºcksetzen</button>
        </div>
    </div>

    <!-- SZENARIO 2: Der Motor vs. Der Plan -->
    <div class="nuance-card" id="card2">
        <div class="card-header">
            <span class="icon-badge">‚öôÔ∏è</span>
            <span>Konkret: Mechanik / Start</span>
        </div>
        <div class="sentence-display">
            ¬´–ú–µ—Ö–∞–Ω–∏–∫ –ø–æ—á–∏–Ω–∏–ª –º–æ—Ç–æ—Ä. –¢–µ–ø–µ—Ä—å –æ–Ω <span class="gap" id="gap2">...</span>.¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Er ist angesprungen und l√§uft wieder.
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card2', 'gap2', true, 'zarabotal', this)">–∑–∞—Ä–∞–±–æ—Ç–∞–ª</button>
            <button class="choice-btn" onclick="checkNuance('card2', 'gap2', false, 'srabotal', this)">—Å—Ä–∞–±–æ—Ç–∞–ª</button>
        </div>
        <div class="explanation-area" id="exp-card2"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card2', 'gap2', '–∑–∞—Ä–∞–±–æ—Ç–∞–ª')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card2', 'gap2')">Zur√ºcksetzen</button>
        </div>
    </div>

    <!-- SZENARIO 3: Datenverarbeitung -->
    <div class="nuance-card" id="card3">
        <div class="card-header">
            <span class="icon-badge">üíª</span>
            <span>Konkret/Prozess: Material behandeln</span>
        </div>
        <div class="sentence-display">
            ¬´–ö–æ–º–ø—å—é—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω <span class="gap" id="gap3">...</span> —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Die Daten auswerten / verarbeiten.
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card3', 'gap3', false, 'razrabotat', this)">—Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å</button>
            <button class="choice-btn" onclick="checkNuance('card3', 'gap3', true, 'obrabotat', this)">–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å</button>
        </div>
        <div class="explanation-area" id="exp-card3"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card3', 'gap3', '–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card3', 'gap3')">Zur√ºcksetzen</button>
        </div>
    </div>

    <!-- SZENARIO 4: Entwicklung -->
    <div class="nuance-card" id="card4">
        <div class="card-header">
            <span class="icon-badge">üìù</span>
            <span>Abstrakt: Kreation</span>
        </div>
        <div class="sentence-display">
            ¬´–ú—ã –¥–æ–ª–∂–Ω—ã <span class="gap" id="gap4">...</span> –Ω–æ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é.¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Etwas Neues im Detail planen/erstellen.
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card4', 'gap4', true, 'razrabotat', this)">—Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å</button>
            <button class="choice-btn" onclick="checkNuance('card4', 'gap4', false, 'obrabotat', this)">–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å</button>
        </div>
        <div class="explanation-area" id="exp-card4"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card4', 'gap4', '—Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card4', 'gap4')">Zur√ºcksetzen</button>
        </div>
    </div>

    <!-- SZENARIO 5: Erfahrung sammeln -->
    <div class="nuance-card" id="card5">
        <div class="card-header">
            <span class="icon-badge">üìà</span>
            <span>Abstrakt: Quantit√§t/Sammeln</span>
        </div>
        <div class="sentence-display">
            ¬´–ó–∞ 10 –ª–µ—Ç –æ–Ω <span class="gap" id="gap5">...</span> –±–æ–ª—å—à–æ–π –æ–ø—ã—Ç.¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Er hat eine Menge an Erfahrung "angesammelt".
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card5', 'gap5', false, 'porabotal', this)">–ø–æ—Ä–∞–±–æ—Ç–∞–ª</button>
            <button class="choice-btn" onclick="checkNuance('card5', 'gap5', true, 'narabotal', this)">–Ω–∞—Ä–∞–±–æ—Ç–∞–ª</button>
        </div>
        <div class="explanation-area" id="exp-card5"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card5', 'gap5', '–Ω–∞—Ä–∞–±–æ—Ç–∞–ª')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card5', 'gap5')">Zur√ºcksetzen</button>
        </div>
    </div>

    <!-- SZENARIO 6: Beziehung -->
    <div class="nuance-card" id="card6">
        <div class="card-header">
            <span class="icon-badge">ü§ù</span>
            <span>Abstrakt: Beziehung</span>
        </div>
        <div class="sentence-display">
            ¬´–°–Ω–∞—á–∞–ª–∞ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ, –Ω–æ —Ç–µ–ø–µ—Ä—å –º—ã –æ—Ç–ª–∏—á–Ω–æ <span class="gap" id="gap6">...</span>.¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Wir kommen jetzt gut miteinander aus / sind eingespielt.
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card6', 'gap6', true, 'srabotalis', this)">—Å—Ä–∞–±–æ—Ç–∞–ª–∏—Å—å</button>
            <button class="choice-btn" onclick="checkNuance('card6', 'gap6', false, 'zarabotalis', this)">–∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏—Å—å</button>
        </div>
        <div class="explanation-area" id="exp-card6"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card6', 'gap6', '—Å—Ä–∞–±–æ—Ç–∞–ª–∏—Å—å')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card6', 'gap6')">Zur√ºcksetzen</button>
        </div>
    </div>

    <!-- SZENARIO 7: Fertigstellung -->
    <div class="nuance-card" id="card7">
        <div class="card-header">
            <span class="icon-badge">‚ú®</span>
            <span>Abstrakt: Perfektionierung</span>
        </div>
        <div class="sentence-display">
            ¬´–≠—Å—Å–µ —Ö–æ—Ä–æ—à–µ–µ, –Ω–æ –≤–∞–º –Ω—É–∂–Ω–æ –µ–≥–æ –Ω–µ–º–Ω–æ–≥–æ <span class="gap" id="gap7">...</span>.¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Den Feinschliff geben / fertigstellen.
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card7', 'gap7', true, 'dorabotat', this)">–¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å</button>
            <button class="choice-btn" onclick="checkNuance('card7', 'gap7', false, 'pererabotat', this)">–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å</button>
        </div>
        <div class="explanation-area" id="exp-card7"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card7', 'gap7', '–¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card7', 'gap7')">Zur√ºcksetzen</button>
        </div>
    </div>

    <!-- SZENARIO 8: Zeit vergessen -->
    <div class="nuance-card" id="card8">
        <div class="card-header">
            <span class="icon-badge">üï∞Ô∏è</span>
            <span>Reflexiv: Vertiefung</span>
        </div>
        <div class="sentence-display">
            ¬´–ò–∑–≤–∏–Ω–∏, —è –Ω–µ —Å–ª—ã—à–∞–ª –∑–≤–æ–Ω–∫–∞, —è <span class="gap" id="gap8">...</span>.¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Ich war so vertieft, dass ich die Zeit/Umgebung vergessen habe.
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card8', 'gap8', true, 'zarabotalis', this)">–∑–∞—Ä–∞–±–æ—Ç–∞–ª—Å—è</button>
            <button class="choice-btn" onclick="checkNuance('card8', 'gap8', false, 'srabotalis', this)">—Å—Ä–∞–±–æ—Ç–∞–ª—Å—è</button>
        </div>
        <div class="explanation-area" id="exp-card8"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card8', 'gap8', '–∑–∞—Ä–∞–±–æ—Ç–∞–ª—Å—è')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card8', 'gap8')">Zur√ºcksetzen</button>
        </div>
    </div>

    <!-- SZENARIO 9: Training -->
    <div class="nuance-card" id="card9">
        <div class="card-header">
            <span class="icon-badge">ü•ä</span>
            <span>Konkret: Training</span>
        </div>
        <div class="sentence-display">
            ¬´–ë–æ–∫—Å–µ—Ä –¥–æ–ª–∂–µ–Ω <span class="gap" id="gap9">...</span> —ç—Ç–æ—Ç —É–¥–∞—Ä.¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Eine Technik so lange √ºben, bis sie perfekt sitzt.
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card9', 'gap9', true, 'otrabotat', this)">–æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å</button>
            <button class="choice-btn" onclick="checkNuance('card9', 'gap9', false, 'razrabotat', this)">—Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å</button>
        </div>
        <div class="explanation-area" id="exp-card9"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card9', 'gap9', '–æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card9', 'gap9')">Zur√ºcksetzen</button>
        </div>
    </div>

    <!-- SZENARIO 10: Nebenjob -->
    <div class="nuance-card" id="card10">
        <div class="card-header">
            <span class="icon-badge">‚òï</span>
            <span>Sozial: Geldquelle</span>
        </div>
        <div class="sentence-display">
            ¬´–°—Ç—É–¥–µ–Ω—Ç–æ–º —è –ª—é–±–∏–ª <span class="gap" id="gap10">...</span> –≤ –∫–∞—Ñ–µ.¬ª
        </div>
        <div class="nuance-hint">
            Bedeutung: Nebenbei arbeiten / dazuverdienen.
        </div>
        
        <div class="choices-container">
            <button class="choice-btn" onclick="checkNuance('card10', 'gap10', false, 'porabotat', this)">–ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å</button>
            <button class="choice-btn" onclick="checkNuance('card10', 'gap10', true, 'podrabotat', this)">–ø–æ–¥—Ä–∞–±–æ—Ç–∞—Ç—å</button>
        </div>
        <div class="explanation-area" id="exp-card10"></div>
        <div class="card-footer">
            <button class="footer-link" onclick="solveCard('card10', 'gap10', '–ø–æ–¥—Ä–∞–±–æ—Ç–∞—Ç—å')">L√∂sung zeigen</button>
            <button class="footer-link" onclick="resetCard('card10', 'gap10')">Zur√ºcksetzen</button>
        </div>
    </div>

</div>

<script>
    // Database of explanations
    const explanations = {
        'zarabotal': {
            wrong: "Nicht ganz. '–∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å' hei√üt meistens 'Geld verdienen' oder 'anfangen zu funktionieren' (Maschine).",
            correct: "Richtig! Bei Maschinen bedeutet es 'starten/anspringen'. Bei Menschen 'Geld verdienen'."
        },
        'srabotal': {
            wrong: "Falsch. '—Å—Ä–∞–±–æ—Ç–∞—Ç—å' benutzt man f√ºr Pl√§ne, Ideen oder Mechanismen (Ausl√∂ser), nicht f√ºr Motorenstart oder Geld.",
            correct: "Exakt! Eine Idee oder ein Plan hat 'funktioniert' (Erfolg gehabt)."
        },
        'obrabotat': {
            wrong: "Nein. '–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å' hei√üt 'bearbeiten' (Daten, Wunden, Material). Hier erschaffen wir etwas Neues.",
            correct: "Genau! Daten (oder Material) werden bearbeitet/verarbeitet."
        },
        'razrabotat': {
            wrong: "Falsch. '—Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å' hei√üt 'entwickeln/erfinden'. Hier geht es aber um das Verarbeiten von etwas Vorhandenem.",
            correct: "Richtig! Einen Plan oder eine Strategie muss man erst 'entwickeln' (ausarbeiten)."
        },
        'porabotal': {
            wrong: "Nein. '–ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å' hei√üt nur 'eine gewisse Zeit arbeiten'. Es dr√ºckt nicht das Ergebnis (die gesammelte Menge) aus.",
            correct: ""
        },
        'porabotat': { // for infinitive usage
            wrong: "Nein. '–ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å' hei√üt allgemein 'arbeiten'. Hier geht es spezifisch um einen Nebenjob/Dazuverdienst.",
            correct: ""
        },
        'narabotal': {
            wrong: "",
            correct: "Stimmt! Das Pr√§fix –Ω–∞- bedeutet oft, dass sich eine gro√üe Menge angesammelt hat (Erfahrung, Stunden)."
        },
        'srabotalis': {
            wrong: "Nein, '—Å—Ä–∞–±–æ—Ç–∞—Ç—å—Å—è' bedeutet 'gut miteinander auskommen'.",
            correct: "Richtig! Das Reflexivverb —Å- -—Å—è bedeutet hier 'zusammenfinden / sich aufeinander einspielen'."
        },
        'zarabotalis': {
            wrong: "Vorsicht! '–∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å—Å—è' hei√üt, dass man so tief in der Arbeit steckt, dass man alles um sich herum vergisst.",
            correct: "Genau. Man hat sich in der Arbeit verloren und die Zeit vergessen."
        },
        'dorabotat': {
            wrong: "",
            correct: "Richtig! '–¥–æ-' signalisiert hier, dass etwas bis zum Ende oder zur Perfektion gebracht wird."
        },
        'pererabotat': {
            wrong: "Nein. '–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å' hei√üt entweder '√úberstunden machen' oder 'etwas recyceln/komplett umarbeiten'. Hier geht es nur um den Feinschliff.",
            correct: ""
        },
        'otrabotat': {
            wrong: "",
            correct: "Stimmt! '–æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å' wird im Sport/Training benutzt f√ºr 'Technik einschleifen/perfektionieren'."
        },
        'podrabotat': {
            wrong: "",
            correct: "Genau! '–ø–æ–¥-' steht hier f√ºr 'zus√§tzlich' oder 'nebenbei' (Nebenjob)."
        }
    };

    function checkNuance(cardId, gapId, isCorrect, key, btn) {
        const card = document.getElementById(cardId);
        const expArea = document.getElementById('exp-' + cardId);
        const gap = document.getElementById(gapId);
        const buttons = card.querySelectorAll('.choice-btn');

        // Reset UI
        buttons.forEach(b => b.classList.remove('correct', 'wrong'));
        
        // Visual Feedback on Button
        if (isCorrect) {
            btn.classList.add('correct');
            // Show Correct Explanation
            expArea.innerHTML = "<strong>Richtig!</strong> " + (explanations[key].correct || "");
            expArea.className = 'explanation-area explanation-correct';
            expArea.style.display = 'block';
            
            // Fill Gap
            gap.textContent = btn.innerText;
            gap.style.borderBottomColor = '#2e7d32';
            gap.style.color = '#2e7d32';
        } else {
            btn.classList.add('wrong');
            // Show Wrong Explanation
            expArea.innerHTML = "<strong>Leider falsch.</strong> " + (explanations[key].wrong || "");
            expArea.className = 'explanation-area explanation-wrong';
            expArea.style.display = 'block';

            // Reset Gap
            gap.textContent = '...';
            gap.style.borderBottomColor = '#673ab7';
            gap.style.color = '#673ab7';
        }
    }

    function resetCard(cardId, gapId) {
        const card = document.getElementById(cardId);
        const expArea = document.getElementById('exp-' + cardId);
        const gap = document.getElementById(gapId);
        
        // Reset Buttons
        card.querySelectorAll('.choice-btn').forEach(b => b.classList.remove('correct', 'wrong'));
        
        // Hide Explanation
        expArea.style.display = 'none';
        
        // Reset Gap
        gap.textContent = '...';
        gap.style.borderBottomColor = '#673ab7';
        gap.style.color = '#673ab7';
    }

    function solveCard(cardId, gapId, correctText) {
        const card = document.getElementById(cardId);
        const buttons = card.querySelectorAll('.choice-btn');
        const gap = document.getElementById(gapId);
        const expArea = document.getElementById('exp-' + cardId);

        // Find and highlight correct button
        buttons.forEach(btn => {
            btn.classList.remove('correct', 'wrong');
            if (btn.innerText === correctText) {
                btn.classList.add('correct');
            }
        });

        // Fill gap
        gap.textContent = correctText;
        gap.style.borderBottomColor = '#2e7d32';
        gap.style.color = '#2e7d32';

        // Hide explanation to keep it clean (or show generic success)
        expArea.style.display = 'none';
    }
</script>

</body>
</html>